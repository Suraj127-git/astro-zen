---
// Simple Loading Screen without GSAP dependency
---

<div id="page-loader" class="fixed inset-0 z-[100] bg-bg flex items-center justify-center overflow-hidden transition-colors duration-300">
  <div class="relative">
    <div class="loader-content text-center">
      <div class="mb-8">
        <h1 class="text-6xl md:text-8xl font-bold text-text font-serif tracking-tightest loader-name animate-fade-in">
          SS
        </h1>
        <div class="mt-4 h-1 w-32 mx-auto bg-secondary/20 rounded-full overflow-hidden">
          <div id="progress-bar" class="h-full bg-gradient-to-r from-primary to-blue-400 rounded-full transition-all duration-300 animate-progress"></div>
        </div>
      </div>
      <p class="text-sm text-secondary font-medium loader-text animate-fade-in-delay">Loading...</p>
    </div>
  </div>
</div>

<script>
  // Simple loader without GSAP dependency
  function initLoader() {
    const loader = document.getElementById('page-loader');
    if (!loader) return;

    // Prevent scrolling during load
    document.body.style.overflow = 'hidden';

    // Check for reduced motion
    const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    const delay = prefersReducedMotion ? 0 : 1000;

    // Hide loader after a short delay to ensure content is ready
    setTimeout(() => {
      loader.style.opacity = '0';
      loader.style.transition = 'opacity 0.5s ease-out';

      setTimeout(() => {
        loader.style.display = 'none';
        document.body.style.overflow = 'auto';
      }, 500);
    }, delay);
  }

  // Run immediately
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initLoader);
  } else {
    initLoader();
  }
</script>

<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes progress {
    from {
      width: 0%;
    }
    to {
      width: 100%;
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.8s ease-out;
  }

  .animate-fade-in-delay {
    animation: fadeIn 0.6s ease-out 0.3s both;
  }

  .animate-progress {
    animation: progress 1.5s ease-out;
  }

  #page-loader {
    backdrop-filter: blur(10px);
  }
</style>
